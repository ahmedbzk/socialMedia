<div class="container-fluid mt-3">
    <div class="row">

        <!-- SEARCHBAR AND FİLTER -->
      <div class="col-12 col-md-6 columnLeft" style="padding: 15px;">
          <div class="input-group rounded-5 search-bar" >
            <input #s 
                type="text" 
                placeholder="Search objects..." 
                (keyup.enter)="searchFunction(s.value)" 
                [value]="searchTerm" 
                class="searchInput"
            >
            <button class="btn btn-search" type="button" (click)="searchFunction(s.value)">
              <i class="bi bi-search"></i>
            </button>
        </div>

        <button class="btn btn-filter">
            <i class="bi bi-funnel-fill"></i>
        </button>
      </div>

        <!-- +YENİ HESAP EKLEME -->
      <div class="col-12 col-md-6 columnRight" style="padding: 15px; ">
        <button class="btn" data-bs-toggle="modal" data-bs-target="#createModal" style="background-color: #744BFC; border-radius: 20px; color: white; padding: 13px;">
            <i class="bi bi-plus-lg"> </i>
            Yeni Hesap Ekle
        </button>
      </div>
      
      <!-- NOT FOUND PAGE -->
      <app-not-found 
        [visible]="visible"
        notFoundMessage="Aradığınız isim bulunamadı..."
        resetLinkText="Anasayfaya Dön"
      >
      </app-not-found>

      <!-- TABLO -->
      <div class="col-12 col-md-12" style="padding: 15px;" *ngIf="!visible">
        <div class="table-container"> 
            <div class="table-responsive">
                <table class="table table-striped table-bordered rounded-table ">
                    <thead >
                    <tr>
                      <th scope="col" style="width: 25%; background-color: white;">Sosyal Medya Linki</th>
                      <th scope="col" style="width: 25%; background-color: white;">Sosyal Medya Adı</th>
                      <th scope="col" style="width: 40%; background-color: white;">Açıklama</th>
                      <th scope="col" style="width: 10%; background-color: white; text-align: center;">Düzenle</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let socialData of socialDatas">
                      <td>{{socialData.link}}</td>
                      <td>{{socialData.name | capitalize}}</td>
                      <td>{{socialData.description | capitalize}}</td>
                      <td style="text-align: center;">
                        <button class="btn modalEditButton" data-bs-toggle="modal" data-bs-target="#saveAndDeleteModal" (click)="openSDModal(socialData)">
                          <i class="bi bi-pencil-square fs-5"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
            </div>
        </div>
      </div>



    </div>
  </div>
  

<!-- CREATE MODAL -->
<div class="modal fade modal-lg" id="createModal" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="createMediaForm" (ngSubmit)="createModalSubmit()">
          <div class="mb-4 mt-2">
            <label for="link" class="form-label modal-text">Sosyal Medya Linki</label>
            <input type="text" class="form-control modal-input" formControlName="link" validateLink>
          </div>
          <div class="mb-4">
            <label for="name" class="form-label modal-text">Sosyal Medya Adı</label>
            <input type="text" class="form-control modal-input" formControlName="name" >
          </div>
          <div class="mb-4">
            <label for="description" class="form-label modal-text">Açıklama</label>
            <input type="text" class="form-control modal-input" formControlName="description" >
          </div>

          <div class="modal-footer mt-5">
            <button type="button" class="btn modal-exit-button" data-bs-dismiss="modal" (click)="createModalDismiss()">Vazgeç</button>
            <button type="submit" [disabled]="createMediaForm.invalid" class="btn modal-create-button">Kaydet</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<!-- UPDATE OR DELETE MODAL-->
<div class="modal fade modal-lg" id="saveAndDeleteModal"  data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="saveOrDeleteMediaForm" (ngSubmit)="saveOrDeleteModalSubmit('guncelle')">
          <div class="mb-4 mt-2">
            <label for="link" class="form-label modal-text">Sosyal Medya Linki</label>
            <input type="text" class="form-control modal-input" formControlName="link" validateLink>
          </div>
          <div class="mb-4">
            <label for="name" class="form-label modal-text">Sosyal Medya Adı</label>
            <input type="text" class="form-control modal-input" formControlName="name">
          </div>
          <div class="mb-4">
            <label for="description" class="form-label modal-text">Açıklama</label>
            <input type="text" class="form-control modal-input" formControlName="description" >
          </div>

          <div class="modal-footer mt-5">
            <button type="button" data-bs-dismiss="modal" class="btn modal-delete-button" (click)="saveOrDeleteModalSubmit('sil')">Sil</button>
            <button type="button" class="btn modal-exit-button" style="margin-left: auto;" data-bs-dismiss="modal" (click)="saveOrDeleteModalSubmit('vazgec')">Vazgeç</button>
            <button type="submit" class="btn modal-save-button " [disabled]="saveOrDeleteMediaForm.invalid">Güncelle</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>